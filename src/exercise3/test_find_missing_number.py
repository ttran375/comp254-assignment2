import pytest

from .find_missing_number import find_missing_number


@pytest.mark.parametrize(
    "arr, expected",
    [
        # Minimum edge cases
        ([0], 1),
        ([1], 0),
        # Small arrays
        ([0, 1, 3], 2),
        ([0, 2, 3], 1),
        ([1, 2, 3], 0),
        ([0, 1, 2, 4], 3),
        ([0, 1, 2, 3, 5], 4),
        ([0, 1, 2, 3, 4, 5, 6, 8], 7),
        ([0, 1, 2, 3, 4, 5, 7], 6),
        ([0, 2, 3, 4, 5], 1),
        # Larger arrays
        (list(range(1, 1)), 0),
        (list(range(1, 10)), 0),
        (list(range(1, 100)), 0),
        (list(range(1, 1000)), 0),
        (list(range(1))[1:], 0),
        (list(range(10))[1:], 0),
        (list(range(100))[1:], 0),
        (list(range(1000))[1:], 0),
        (list(range(10)) + list(range(11, 100)), 10),
        (list(range(100)) + list(range(101, 200)), 100),
        (list(range(500)) + list(range(501, 1000)), 500),
        (list(range(1000))[1:500] + list(range(500, 1000)), 0),
        (list(range(999)), 999),
        (list(range(1000))[:-1], 999),
        # Random missing numbers
        ([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 15], 14),
        ([0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], 1),
        ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], 0),
        ([0, 1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15], 6),
        ([0, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15], 7),
        ([0, 1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15], 8),
        ([0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 13, 14, 15], 9),
        ([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15], 10),
        ([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 13, 14, 15], 11),
        ([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15], 12),
        ([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15], 13),
        ([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 15], 14),
        ([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14], 15),
        # Arrays with gaps
        ([1, 2, 3, 4], 0),
        ([0, 1, 3, 4], 2),
        ([0, 2, 3, 4], 1),
        ([0, 1, 2, 3, 4, 6, 7], 5),
        ([0, 1, 2, 4, 5, 6, 7], 3),
        ([0, 1, 3, 4, 5, 6, 7], 2),
        ([1, 2, 3, 4, 5, 6, 7], 0),
        # Random large cases
        ([x for x in range(100000) if x != 50000], 50000),
        ([x for x in range(1, 1000000)], 0),
        ([x for x in range(1000000) if x != 1], 1),
        ([x for x in range(1000000) if x != 123456], 123456),
        ([x for x in range(1000000) if x != 987654], 987654),
        (list(range(5000)) + list(range(5001, 10000)), 5000),
    ],
)
def test_find_missing_number(arr, expected):
    assert find_missing_number(arr) == expected
